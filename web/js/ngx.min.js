/*!
 * ramsondon.github.io - ramsondon.github.io v1.0.0 (https://ramsondon.github.io)
 * Copyright 2017 -2017 Matthias Schmid
 * Licensed under MIT
 */
if(_&&"undefined"!=typeof _||(_={}),"registerElement"in document)var ngxApp=document.registerElement("ngx-app"),ngxInclude=document.registerElement("ngx-include");_.ngx=function(){var e=function(){this.base_dir="",this.tpl_cache={},this.tpl_cache_mark={},this.ready_listeners={}};return e.prototype.get=function(e,t,n){var i=this.base_dir+e;fetch(i,{method:"GET"}).then(function(e){return 200!==e.status?void console.error("Error Report","Status Code: "+e.status,e.statusText):void e[t]().then(function(e){n(e)}.bind(this))}.bind(this))["catch"](function(e){console.error(e)}.bind(this))},e.prototype.render=function(e,t,n,i){var r=function(e){var r=document.createElement("script");r.type="text/x-ngx-tpl",r.innerHTML=e,n.appendChild(r),n.innerHTML=_.template(n.innerHTML)(t),n.innerHTML=n.querySelector("script").innerHTML,this.include(n.querySelectorAll("ngx-include")),_.isString(i)&&i in this.ready_listeners&&this.ready_listeners[i]()}.bind(this),s=e.replace(new RegExp("[/.]","g"),"_");if(s in this.tpl_cache_mark){var o=0,c=function(){o>0&&s in this.tpl_cache?(clearTimeout(o),o=0,r(this.tpl_cache[s])):o=setTimeout(c)}.bind(this);o=setTimeout(c)}else this.tpl_cache_mark[s]=e,this.get(e,"text",function(e){this.tpl_cache[s]=e,r(e)}.bind(this))},e.prototype.parseInclude=function(e){return{model:e.getAttribute("x-model"),template:e.getAttribute("x-template"),listener:e.getAttribute("x-tplready")}},e.prototype.include=function(e){var t=function(e,t,n){this.render(e.template,{ngxModel:t},n,e.listener)}.bind(this);_.forEach(e,function(e,n){var i=this.parseInclude(e);if(i.model)try{t(i,this.readAssignment(i.model),e)}catch(r){this.get(i.model,"json",function(n){t(i,n,e)}.bind(this))}else t(i,null,e)}.bind(this))},e.prototype.nl2br=function(e,t){if(_.isString(e)){var n=t||"undefined"==typeof t?"<br />":"<br>";return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+n+"$2")}return e},e.prototype.assign=function(e){return _.escape(JSON.stringify(e))},e.prototype.readAssignment=function(e){return JSON.parse(_.unescape(e))},e.prototype.ngx=function(){var e=document.querySelectorAll("ngx-app");_.forEach(e,function(e,t){this.include(e.querySelectorAll("ngx-include"))}.bind(this))},e.prototype.basedir=function(e){return this.base_dir=e,this},e.prototype.xtplready=function(e,t){if(_.isObject(e)&&_.isUndefined(t))for(var n in e)this.xtplready(n,e[n]);else _.isString(e)&&_.isFunction(t)&&(this.ready_listeners[e]=t);return this},e.prototype.require=function(e,t){return function(e,n,i){var r,s=i.replace(new RegExp("[/.:]","g"),"_"),o=e.getElementsByTagName(n)[0];e.getElementById(s)||(r=e.createElement(n),r.id=s,r.src=i,o.parentNode.insertBefore(r,o),r.readyState?r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,t())}:r.onload=t)}(document,"script",e)},e.prototype.start=function(){var e=function(){this.ngx()}.bind(this);return"fetch"in window?e():this.require("https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js",e),this},new e}();
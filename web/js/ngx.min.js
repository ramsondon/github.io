/*!
 * ramsondon.github.io - ramsondon.github.io v1.0.0 (https://ramsondon.github.io)
 * Copyright 2017 -2017 Matthias Schmid
 * Licensed under MIT
 */
if(_&&"undefined"!=typeof _||(_={}),"registerElement"in document)var ngxApp=document.registerElement("ngx-app"),ngxInclude=document.registerElement("ngx-include");_.ngx=function(){var e=function(){this.base_dir="",this.tpl_cache={},this.tpl_cache_mark={},this.ready_listeners={}};return e.prototype.get=function(e,t,n){var i=this.base_dir+e;fetch(i,{method:"GET"}).then(function(e){return 200!==e.status?void console.error("Error Report","Status Code: "+e.status,e.statusText):void e[t]().then(function(e){n(e)}.bind(this))}.bind(this))["catch"](function(e){console.error(e)}.bind(this))},e.prototype.render=function(e,t,n,i){var r=function(e){var r=document.createElement("script");r.type="text/x-ngx-tpl",r.innerHTML=e,n.appendChild(r),n.innerHTML=_.template(n.innerHTML)(t),n.innerHTML=n.querySelector("script").innerHTML,this.include(n.querySelectorAll("ngx-include")),_.isString(i)&&i in this.ready_listeners&&this.ready_listeners[i]()}.bind(this),o=e.replace(new RegExp("[/.]","g"),"_");if(o in this.tpl_cache_mark){var s=0,c=function(){s>0&&o in this.tpl_cache?(clearTimeout(s),s=0,r(this.tpl_cache[o])):s=setTimeout(c)}.bind(this);s=setTimeout(c)}else this.tpl_cache_mark[o]=e,this.get(e,"text",function(e){this.tpl_cache[o]=e,r(e)}.bind(this))},e.prototype.parseInclude=function(e){return{type:e.getAttribute("x-type"),provider:e.getAttribute("x-provide"),template:e.getAttribute("x-template"),listener:e.getAttribute("x-tplready")}},e.prototype.include=function(e){var t=function(e,t,n){this.render(e.template,{ngxApp:{},ngxModel:t},n,e.listener)}.bind(this);_.forEach(e,function(e,n){var i=this.parseInclude(e);"remote"===i.type&&i.provider?this.get(i.provider,"json",function(n){t(i,n,e)}.bind(this)):"local"===i.type&&i.provider?t(i,this.readAssignment(i.provider),e):"none"===i.type?t(i,null,e):console.warn("directive incomplete",i,e)}.bind(this))},e.prototype.assign=function(e){return _.escape(JSON.stringify(e))},e.prototype.readAssignment=function(e){return JSON.parse(_.unescape(e))},e.prototype.ngx=function(){var e=document.querySelectorAll("ngx-app");_.forEach(e,function(e,t){this.include(e.querySelectorAll("ngx-include"))}.bind(this))},e.prototype.basedir=function(e){return this.base_dir=e,this},e.prototype.xtplready=function(e,t){if(_.isObject(e)&&_.isUndefined(t))for(var n in e)this.xtplready(n,e[n]);else _.isString(e)&&_.isFunction(t)&&(this.ready_listeners[e]=t);return this},e.prototype.require=function(e,t){return function(e,n,i){var r,o=i.replace(new RegExp("[/.:]","g"),"_"),s=e.getElementsByTagName(n)[0];e.getElementById(o)||(r=e.createElement(n),r.id=o,r.src=i,s.parentNode.insertBefore(r,s),r.readyState?r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,t())}:r.onload=t)}(document,"script",e)},e.prototype.start=function(){var e=function(){this.ngx()}.bind(this);return"fetch"in window?e():this.require("https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js",e),this},new e}();